                                                                      Page 1
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
Command Line: C:\GHS\arm424\asarm.exe -elf -b0 -I..\src\include -I..\src\Platform\FreeRTOS\portable\GHS\AT91SAM7xx -IC:\GHS\arm424\lib\arm4 -cpu=arm7tm -fpu=soft -dbo=X:\Dokument\PCroot\33xx\gh_3356\objs\libs\dbg_driver\tmrDrvISR.dbo -source=..\src\driver\tmrDrvISR.arm --gh_oname=objs\libs\dbg_driver\tmrDrvISR.o --gh_md_append=objs\libs\dbg_driver\tmrDrvISR.d -o objs\libs\dbg_driver\gh_4a41.o -list=objs\libs\dbg_driver\tmrDrvISR.lst C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s 
Original File: C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
Source File: ..\src\driver\tmrDrvISR.arm
Directory: X:\Dokument\PCroot\33xx\gh_3356
Host OS: GHS_WIN32
Version: EASE 2.0 (c) 2001 Green Hills Software    Build: May 30 2007
Release: MULTI v4.2.4                                                                      
Revision Date: Fri Jun 22 02:11:06 2007

Release Date: Fri Jun 22 06:13:29 2007

                       0 #line 1 "..\\src\\driver\\tmrDrvISR.arm"
                       1 ; tmrDrvISR.arm - Dataton 3397 Transponder 
                       2 ;
                       3 ; Wrapper for the milisecond timer driver interrupt service routine.  This can cause a
                       4 ; context switch so requires an assembly wrapper.
                       5 ;
                       6 ; Created 09-09-24	Kalle
                       7 ;
                       8 ; (C) Copyright Dataton AB 2009, All Rights Reserved
                       9 ;
                      10 
                      11 		.text		
                      12 		.align 4
                      13 		.nothumb
                      14 		
                      15 		.need usTimerISR
                      16 		.need vTaskIncrementTick
                      17 		.need vTaskSwitchContext
                      18 		
                      19 		.globl usTimerISREntry
                      20 
                      21 ; Wrapper for the serial port interrupt service routine.  This can cause a
                      22 ; context switch so requires an assembly wrapper.
                      23 
                      24 
                      25 
                      26 
                       0 #line 1 "..\\src\\include\\Atmel/AT91SAM7S256_inc.h"
                       1 
                       2 
                       3 
                       4 
                       5 
                       6 
                       7 
                       8 
                       9 
                      10 
                      11 
                      12 
                      13 
                      14 
                      15 
                      16 
                      17 
                      18 
                      19 
                      20 
                      21 
                      22 

                                                                      Page 2
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                      23 
                      24 
                      25 
                      26 
                      27 
                      28 
                      29 
                      30 
                      31 
                      32 
                      33 
                      34 
                      35 
                      36 
                      37 
                      38 
                      39 
                      40 
                      41 
                      42 
                      43 
                      44 
                      45 
                      46 
                      47 
                      48 
                      49 
                      50 
                      51 
                      69 #line 70
                      70 
                      71 
                      72 
                      73 
                      74 
                      75 
                      76 
                      77 
                      78 
                      79 
                      80 
                      81 
                      82 
                      83 
                      84 
                      85 
                      86 
                      87 
                      88 
                      89 
                      90 
                      91 
                      92 
                      93 
                      94 
                      95 
                      96 
                      97 
                      98 
                      99 
                     100 

                                                                      Page 3
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     101 
                     102 
                     103 
                     104 
                     105 
                     106 
                     107 
                     108 
                     109 
                     110 
                     132 #line 133
                     133 
                     134 
                     135 
                     136 
                     137 
                     138 
                     139 
                     140 
                     141 
                     142 
                     143 
                     144 
                     145 
                     146 
                     147 
                     148 
                     149 
                     150 
                     151 
                     152 
                     153 
                     154 
                     155 
                     156 
                     157 
                     158 
                     159 
                     160 
                     161 
                     162 
                     163 
                     164 
                     165 
                     166 
                     167 
                     168 
                     169 
                     170 
                     171 
                     172 
                     173 
                     174 
                     175 
                     176 
                     205 #line 206
                     206 
                     207 
                     208 
                     209 
                     210 

                                                                      Page 4
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     211 
                     212 
                     213 
                     214 
                     215 
                     216 
                     217 
                     218 
                     219 
                     220 
                     221 
                     222 
                     223 
                     224 
                     225 
                     226 
                     227 
                     228 
                     229 
                     230 
                     231 
                     232 
                     233 
                     234 
                     235 
                     236 
                     237 
                     238 
                     239 
                     240 
                     241 
                     242 
                     243 
                     244 
                     245 
                     246 
                     247 
                     248 
                     249 
                     250 
                     251 
                     252 
                     253 
                     254 
                     255 
                     256 
                     257 
                     258 
                     259 
                     260 
                     261 
                     262 
                     263 
                     264 
                     265 
                     266 
                     267 
                     268 
                     269 
                     270 
                     271 

                                                                      Page 5
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     272 
                     273 
                     274 
                     275 
                     276 
                     277 
                     278 
                     279 
                     280 
                     281 
                     282 
                     283 
                     284 
                     285 
                     286 
                     287 
                     288 
                     289 
                     290 
                     291 
                     292 
                     293 
                     294 
                     295 
                     296 
                     297 
                     298 
                     299 
                     300 
                     301 
                     302 
                     303 
                     304 
                     305 
                     306 
                     307 
                     308 
                     309 
                     310 
                     311 
                     312 
                     313 
                     314 
                     315 
                     316 
                     317 
                     318 
                     319 
                     320 
                     321 
                     322 
                     323 
                     324 
                     325 
                     326 
                     327 
                     328 
                     329 
                     330 
                     331 
                     332 

                                                                      Page 6
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     333 
                     334 
                     335 
                     336 
                     337 
                     338 
                     339 
                     340 
                     341 
                     342 
                     343 
                     344 
                     345 
                     346 
                     347 
                     348 
                     349 
                     350 
                     351 
                     352 
                     353 
                     354 
                     355 
                     356 
                     357 
                     358 
                     359 
                     360 
                     361 
                     362 
                     363 
                     364 
                     365 
                     366 
                     367 
                     368 
                     369 
                     370 
                     371 
                     372 
                     373 
                     374 
                     375 
                     376 
                     377 
                     378 
                     379 
                     380 
                     381 
                     382 
                     383 
                     384 
                     385 
                     386 
                     387 
                     388 
                     389 
                     390 
                     391 
                     392 
                     393 

                                                                      Page 7
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     394 
                     395 
                     396 
                     397 
                     398 
                     399 
                     400 
                     401 
                     402 
                     403 
                     404 
                     405 
                     406 
                     407 
                     408 
                     409 
                     410 
                     411 
                     412 
                     413 
                     414 
                     415 
                     416 
                     417 
                     418 
                     419 
                     420 
                     421 
                     422 
                     423 
                     424 
                     425 
                     426 
                     427 
                     428 
                     429 
                     430 
                     431 
                     432 
                     433 
                     434 
                     435 
                     436 
                     437 
                     438 
                     439 
                     440 
                     441 
                     442 
                     443 
                     468 #line 469
                     469 
                     470 
                     471 
                     472 
                     473 
                     492 #line 493
                     493 
                     494 
                     495 
                     496 

                                                                      Page 8
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     497 
                     498 
                     499 
                     500 
                     501 
                     502 
                     503 
                     504 
                     505 
                     506 
                     507 
                     508 
                     509 
                     510 
                     511 
                     512 
                     513 
                     514 
                     515 
                     516 
                     517 
                     518 
                     519 
                     520 
                     521 
                     522 
                     523 
                     524 
                     525 
                     526 
                     527 
                     528 
                     529 
                     530 
                     546 #line 547
                     547 
                     548 
                     549 
                     550 
                     551 
                     579 #line 580
                     580 
                     581 
                     582 
                     583 
                     603 #line 604
                     604 
                     605 
                     606 
                     607 
                     608 
                     609 
                     610 
                     611 
                     612 
                     613 
                     614 
                     615 
                     635 #line 636
                     636 
                     637 

                                                                      Page 9
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     638 
                     639 
                     640 
                     641 
                     642 
                     643 
                     644 
                     645 
                     646 
                     647 
                     648 
                     649 
                     650 
                     651 
                     652 
                     653 
                     654 
                     678 #line 679
                     679 
                     680 
                     681 
                     682 
                     683 
                     684 
                     685 
                     706 #line 707
                     707 
                     708 
                     709 
                     710 
                     711 
                     712 
                     713 
                     714 
                     715 
                     716 
                     717 
                     718 
                     719 
                     720 
                     721 
                     722 
                     723 
                     724 
                     725 
                     726 
                     727 
                     728 
                     729 
                     730 
                     731 
                     732 
                     733 
                     734 
                     735 
                     736 
                     737 
                     738 
                     739 
                     740 
                     741 

                                                                      Page 10
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     742 
                     743 
                     744 
                     745 
                     769 #line 770
                     770 
                     771 
                     772 
                     773 
                     774 
                     775 
                     776 
                     777 
                     778 
                     779 
                     780 
                     781 
                     782 
                     814 #line 815
                     815 
                     816 
                     817 
                     818 
                     819 
                     820 
                     821 
                     822 
                     823 
                     824 
                     825 
                     826 
                     827 
                     828 
                     829 
                     830 
                     831 
                     832 
                     833 
                     834 
                     835 
                     836 
                     837 
                     838 
                     839 
                     840 
                     841 
                     842 
                     843 
                     844 
                     845 
                     846 
                     847 
                     848 
                     849 
                     850 
                     851 
                     852 
                     853 
                     854 
                     855 
                     856 

                                                                      Page 11
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                     857 
                     858 
                     859 
                     860 
                     861 
                     862 
                     863 
                     864 
                     865 
                     866 
                     867 
                     868 
                     869 
                     870 
                     871 
                     872 
                     873 
                     874 
                     875 
                     876 
                     877 
                     878 
                     879 
                     880 
                     881 
                     882 
                     883 
                     884 
                     885 
                     886 
                     887 
                     888 
                     889 
                     890 
                     891 
                     892 
                     893 
                     986 #line 987
                     987 
                     988 
                     989 
                     990 
                     991 
                     992 
                     993 
                     994 
                     995 
                     996 
                     997 
                     998 
                     999 
                    1000 
                    1001 
                    1002 
                    1003 
                    1004 
                    1005 
                    1006 
                    1007 
                    1008 
                    1009 

                                                                      Page 12
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1010 
                    1011 
                    1012 
                    1013 
                    1014 
                    1015 
                    1016 
                    1017 
                    1018 
                    1019 
                    1020 
                    1021 
                    1022 
                    1023 
                    1024 
                    1025 
                    1026 
                    1027 
                    1028 
                    1029 
                    1030 
                    1031 
                    1032 
                    1033 
                    1034 
                    1035 
                    1036 
                    1037 
                    1038 
                    1039 
                    1040 
                    1041 
                    1042 
                    1043 
                    1044 
                    1045 
                    1046 
                    1047 
                    1048 
                    1049 
                    1050 
                    1051 
                    1052 
                    1053 
                    1054 
                    1055 
                    1056 
                    1057 
                    1058 
                    1059 
                    1060 
                    1061 
                    1062 
                    1063 
                    1064 
                    1065 
                    1066 
                    1067 
                    1068 
                    1069 
                    1070 

                                                                      Page 13
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1071 
                    1072 
                    1073 
                    1074 
                    1075 
                    1076 
                    1077 
                    1078 
                    1079 
                    1080 
                    1081 
                    1082 
                    1083 
                    1084 
                    1085 
                    1086 
                    1087 
                    1088 
                    1089 
                    1090 
                    1091 
                    1092 
                    1093 
                    1094 
                    1095 
                    1096 
                    1097 
                    1098 
                    1099 
                    1100 
                    1101 
                    1102 
                    1103 
                    1104 
                    1105 
                    1106 
                    1107 
                    1108 
                    1109 
                    1110 
                    1111 
                    1112 
                    1113 
                    1114 
                    1115 
                    1116 
                    1117 
                    1118 
                    1119 
                    1120 
                    1121 
                    1122 
                    1123 
                    1124 
                    1125 
                    1126 
                    1127 
                    1128 
                    1129 
                    1130 
                    1131 

                                                                      Page 14
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1132 
                    1133 
                    1134 
                    1135 
                    1136 
                    1137 
                    1138 
                    1139 
                    1140 
                    1141 
                    1142 
                    1143 
                    1144 
                    1145 
                    1146 
                    1147 
                    1148 
                    1149 
                    1150 
                    1151 
                    1152 
                    1171 #line 1172
                    1172 
                    1173 
                    1174 
                    1175 
                    1176 
                    1177 
                    1178 
                    1179 
                    1180 
                    1198 #line 1199
                    1199 
                    1200 
                    1201 
                    1202 
                    1203 
                    1204 
                    1205 
                    1206 
                    1207 
                    1208 
                    1209 
                    1210 
                    1211 
                    1212 
                    1213 
                    1214 
                    1215 
                    1216 
                    1217 
                    1218 
                    1219 
                    1220 
                    1221 
                    1222 
                    1223 
                    1252 #line 1253
                    1253 
                    1254 
                    1255 

                                                                      Page 15
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1256 
                    1257 
                    1258 
                    1259 
                    1260 
                    1261 
                    1262 
                    1263 
                    1264 
                    1265 
                    1266 
                    1267 
                    1268 
                    1269 
                    1270 
                    1271 
                    1272 
                    1273 
                    1274 
                    1275 
                    1276 
                    1277 
                    1278 
                    1279 
                    1280 
                    1281 
                    1282 
                    1283 
                    1284 
                    1285 
                    1286 
                    1287 
                    1288 
                    1289 
                    1290 
                    1291 
                    1292 
                    1293 
                    1294 
                    1295 
                    1296 
                    1297 
                    1298 
                    1299 
                    1300 
                    1301 
                    1302 
                    1303 
                    1304 
                    1305 
                    1306 
                    1307 
                    1308 
                    1309 
                    1310 
                    1311 
                    1312 
                    1313 
                    1314 
                    1315 
                    1316 

                                                                      Page 16
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1317 
                    1318 
                    1319 
                    1320 
                    1321 
                    1322 
                    1323 
                    1324 
                    1325 
                    1326 
                    1327 
                    1328 
                    1329 
                    1330 
                    1331 
                    1332 
                    1350 #line 1351
                    1351 
                    1352 
                    1353 
                    1354 
                    1355 
                    1356 
                    1357 
                    1358 
                    1359 
                    1360 
                    1361 
                    1362 
                    1363 
                    1364 
                    1365 
                    1366 
                    1367 
                    1368 
                    1369 
                    1370 
                    1371 
                    1372 
                    1373 
                    1374 
                    1375 
                    1376 
                    1377 
                    1378 
                    1379 
                    1380 
                    1381 
                    1382 
                    1383 
                    1384 
                    1385 
                    1386 
                    1387 
                    1388 
                    1389 
                    1390 
                    1391 
                    1392 
                    1393 
                    1394 

                                                                      Page 17
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1395 
                    1396 
                    1397 
                    1398 
                    1399 
                    1400 
                    1401 
                    1402 
                    1403 
                    1404 
                    1405 
                    1406 
                    1407 
                    1408 
                    1409 
                    1410 
                    1411 
                    1412 
                    1413 
                    1414 
                    1415 
                    1416 
                    1417 
                    1418 
                    1419 
                    1420 
                    1421 
                    1422 
                    1423 
                    1424 
                    1425 
                    1426 
                    1427 
                    1428 
                    1429 
                    1430 
                    1431 
                    1432 
                    1433 
                    1434 
                    1435 
                    1436 
                    1437 
                    1438 
                    1439 
                    1440 
                    1441 
                    1442 
                    1443 
                    1444 
                    1445 
                    1446 
                    1447 
                    1448 
                    1449 
                    1450 
                    1451 
                    1452 
                    1453 
                    1454 
                    1455 

                                                                      Page 18
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1456 
                    1457 
                    1458 
                    1459 
                    1460 
                    1461 
                    1462 
                    1463 
                    1464 
                    1465 
                    1466 
                    1467 
                    1468 
                    1469 
                    1470 
                    1471 
                    1472 
                    1473 
                    1474 
                    1475 
                    1476 
                    1477 
                    1478 
                    1479 
                    1480 
                    1481 
                    1482 
                    1483 
                    1484 
                    1485 
                    1486 
                    1487 
                    1488 
                    1489 
                    1490 
                    1491 
                    1492 
                    1493 
                    1494 
                    1495 
                    1496 
                    1497 
                    1498 
                    1499 
                    1500 
                    1501 
                    1502 
                    1503 
                    1504 
                    1505 
                    1506 
                    1507 
                    1508 
                    1509 
                    1510 
                    1511 
                    1512 
                    1513 
                    1514 
                    1515 
                    1516 

                                                                      Page 19
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                    1517 
                    1518 
                    1519 
                    1520 
                    1521 
                    1522 
                    1523 
                    1524 
                    1525 
                    1526 
                    1527 
                    1528 
                    1529 
                    1530 
                    1626 #line 1627
                    1627 
                    1628 
                    1629 
                    1630 
                    1662 #line 1663
                    1663 
                    1664 
                    1665 
                    1666 
                    1700 #line 1701
                    1701 
                    1702 
                    1703 
                    1704 
                    1705 
                    1706 
                    1707 
                    1708 
                    1709 
                    1710 
                      27 #line 28 "..\\src\\driver\\tmrDrvISR.arm"
                       0 #line 1 "..\\src\\Platform\\FreeRTOS\\portable\\GHS\\AT91SAM7xx\\ISR_Support.h"
                       1 	EXTERN pxCurrentTCB
                       2 	EXTERN ulCriticalNesting
                       3 
                       4 
                       5 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                       6 ; Context save and restore macro definitions
                       7 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                       8 
                       9 .macro portSAVE_CONTEXT
                      10 
                      11 	; Push R0 as we are going to use the register. 					
                      12 	STMDB	SP!, {R0}
                      13 
                      14 	; Set R0 to point to the task stack pointer. 					
                      15 	STMDB	SP, {SP}^
                      16 	SUB		SP, SP, #4
                      17 	LDMIA	SP!, {R0}
                      18 
                      19 	; Push the return address onto the stack. 						
                      20 	STMDB	R0!, {LR}
                      21 
                      22 	; Now we have saved LR we can use it instead of R0. 				
                      23 	MOV		LR, R0
                      24 

                                                                      Page 20
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                      25 	; Pop R0 so we can save it onto the system mode stack. 			
                      26 	LDMIA	SP!, {R0}
                      27 
                      28 	; Push all the system mode registers onto the task stack. 		
                      29 	STMDB	LR, {R0-LR}^
                      30 	SUB		LR, LR, #60
                      31 
                      32 	; Push the SPSR onto the task stack. 							
                      33 	MRS		R0, SPSR
                      34 	STMDB	LR!, {R0}
                      35 
                      36 	LDR		R0, =ulCriticalNesting 
                      37 	LDR		R0, [R0]
                      38 	STMDB	LR!, {R0}
                      39 
                      40 	; Store the new top of stack for the task. 						
                      41 	LDR		R1, =pxCurrentTCB
                      42 	LDR		R0, [R1]
                      43 	STR		LR, [R0]
                      44 
                      45 	.endm
                      46 
                      47 
                      48 	.macro portRESTORE_CONTEXT
                      49 
                      50 	; Set the LR to the task stack. 									
                      51 	LDR		R1, =pxCurrentTCB
                      52 
                      53 	;1 -----------------------------------------
                      54 	    ; KALLE	LDR		R2, [R1]
                      55 	    ; KALLE	LDR		R2, [R2]
                      56 	    ; KALLE	LDR		R0, [R2, #60]
                      57 	    ; KALLE	CMP		R0,#0x210000
                      58 	    ; KALLE	bge		lop
                      59 	    ; KALLE	CMP		R0,#0x200000
                      60 	    ; KALLE	blt		lop
                      61 	    ; KALLE lop: b	lop
                      62 	; END 1 -------------------------------------
                      63 
                      64 	LDR		R0, [R1]
                      65 	LDR		LR, [R0]
                      66 
                      67 	; The critical nesting depth is the first item on the stack. 	
                      68 	; Load it into the ulCriticalNesting variable. 					
                      69 	LDR		R0, =ulCriticalNesting
                      70 	LDMFD	LR!, {R1}
                      71 	STR		R1, [R0]
                      72 
                      73 	; Get the SPSR from the stack. 									
                      74 	LDMFD	LR!, {R0}
                      75 	MSR		SPSR_cxsf, R0
                      76 
                      77 	; Restore all system mode registers for the task. 				
                      78 	LDMFD	LR, {R0-R14}^
                      79 	NOP
                      80 	
                      81 	; Restore the return address. 									
                      82 	LDR		LR, [LR, #+60]
                      83 
                      84 	; And return - correcting the offset in the LR to obtain the 	
                      85 	; correct address. 												

                                                                      Page 21
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
                      86 	SUBS	PC, LR, #4
                      87 
                      88 	.endm
                      89 
                      28 #line 29 "..\\src\\driver\\tmrDrvISR.arm"
                      29 
                      30 usTimerISREntry:
                      31 	portSAVE_CONTEXT			; Save the context of the current task.
                      31 <MACRO BEGIN>
                      31 STMDB SP ! , { R0 } 
                      31 
                      31 
                      31 STMDB SP , { SP } ^ 
                      31 SUB SP , SP , 4 
                      31 LDMIA SP ! , { R0 } 
                      31 
                      31 
                      31 STMDB R0 ! , { LR } 
                      31 
                      31 
                      31 MOV LR , R0 
                      31 
                      31 
                      31 LDMIA SP ! , { R0 } 
                      31 
                      31 
                      31 STMDB LR , { R0 - LR } ^ 
                      31 SUB LR , LR , 60 
                      31 
                      31 
                      31 MRS R0 , SPSR 
                      31 STMDB LR ! , { R0 } 
                      31 
                      31 LDR R0 , = ulCriticalNesting 
                      31 LDR R0 , [ R0 ] 
                      31 STMDB LR ! , { R0 } 
                      31 
                      31 
                      31 LDR R1 , = pxCurrentTCB 
                      31 LDR R0 , [ R1 ] 
                      31 STR LR , [ R0 ] 
00000000 e92d0001     31 <MACRO END>
00000004 e94d2000 
00000008 e24dd004 
0000000c e8bd0001 
00000010 e9204000 
00000014 e1a0e000 
00000018 e8bd0001 
0000001c e94e7fff 
00000020 e24ee03c 
00000024 e14f0000 
00000028 e92e0001 
0000002c e51f0008*
00000030 e5900000 
00000034 e92e0001 
00000038 e51f1008*
0000003c e5910000 
00000040 e580e000 
00000044 eb000000*    32 	bl	usTimerISR				; Call the tmrDrv ISR routine.
                      33 
                      34 

                                                                      Page 22
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
00000048 eb000000*    35 	  bl	vFreeRTOSTimerCall		; Increment the tick count - this may wake a task.
                      36 
                      37 
0000004c e3e0eef0     38 	LDR	R14, =(0xFFFFF000)	; Mark the End of Interrupt on the AIC
00000050 e22ee0ff 
00000054 e58ee130     39 	STR	R14, [R14, #(304)]
                      40 	
                      41 	portRESTORE_CONTEXT			; Restore the context of the current task -
                      41 <MACRO BEGIN>
                      41 LDR R1 , = pxCurrentTCB 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 
                      41 LDR R0 , [ R1 ] 
                      41 LDR LR , [ R0 ] 
                      41 
                      41 
                      41 
                      41 LDR R0 , = ulCriticalNesting 
                      41 LDMFD LR ! , { R1 } 
                      41 STR R1 , [ R0 ] 
                      41 
                      41 
                      41 LDMFD LR ! , { R0 } 
                      41 MSR SPSR_cxsf , R0 
                      41 
                      41 
                      41 LDMFD LR , { R0 - R14 } ^ 
                      41 NOP 
                      41 
                      41 
                      41 LDR LR , [ LR , + 60 ] 
                      41 
                      41 
                      41 
                      41 SUBS PC , LR , 4 
00000058 e51f1008*    41 <MACRO END>
0000005c e5910000 
00000060 e590e000 
00000064 e51f0008*
00000068 e8be0002 
0000006c e5801000 
00000070 e8be0001 
00000074 e16ff000 
00000078 e8de7fff 
0000007c e1a00000 
00000080 e59ee03c 
00000084 e25ef004 
                      42 								; which may be different to the task that
                      43 								; was interrupted.
                      44 						
00000088 02f6db80*    45 
                                                                      Page 23
                                                              C:\Users\KARL-E~1\AppData\Local\Temp\gh_4a41.s
0000008c 02f6db80*
